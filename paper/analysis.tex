\section{Analysis of the Design Space for Resisting Squatters}
\label{sec:analysis}

    Name squatting in Namecoin has been discussed as an issue facing the cryptocurrency, and will likely be a problem any similar cryptocurrency faces. There have been several solutions proposed to alleviate the squatting issue by implementing new protocols or by placing additional fees on certain actions to either deter the actions of squatters or make it possible for a legitimate user to acquire a desired name from a squatter if it increases the economic use of said name. In this section we outline a formal design space that encompases the approaches that can be employed to shape name ownership in any cryptocurrency based name system. We first analyze potential changes to the protocol with regards to the ways that names flow through the system. Many of these changes require tweaks to the incentive for an individual to act in a certain way, which results in changes in fees. Because fees encompass the incentives of the system, we proceed to provide a design space specifically for what changes in fees are possible.

    /hi{draft still}At the lowest level, one must consider how names may flow through the name system. We consider whether or not names can be transferred, the mechanisms of how a name can be transferred, released, or updated and whether they expire or not.
Making names non-transferrable would lock authority to make updates to the value to the key used to first register the name. While it would still be possible to transfer the public/private key pair that controls a name, any individual receiving the private key would have no cryptographic assurance that the original owner does still posses a copy of the key.
Transferable names would allow for a broader secondary market, as names can be in a trustless way (Describe this somewhere).
    [need more text describing roots of tree]

    Many changes to the protocol would require a change in the fee structure. As it exists in Namecoin now, the only cost for an individual to register a name is the 0.01 NMC used to make the token, and then 0.01 NMC to cover two transactions fees (0.005 NMC each), one for the NAME\_NEW and one for the NAME\_FIRSTUPDATE transaction. Holding onto a name bares almost no cost with the owner only needing to pay 0.005 NMC as a transaction fee every time they post a NAME\_UPDATE transaction (which they need to do about once every 250 days). Losing a name doesn't cost a user anything, and the user gets gets the initial 0.01 NMC token back as a normal coin. Namecoin, or any cryptocurrency trying to implement a name value store, could change these fees in a variety of ways. We have split up the different payment structures into a set of several parameters. Any structure for payments required by the user is some combination of the following parameters: a trigger for a payment, how much an individual needs to pay, and who an individual pays. If a user succeeds in payment of a fee, they attain or retain a name. If they fail, then the name is reclaimed by the system, or ownership is given to another individual. 
    The first parameter of a payment structure is what triggers a required payment. All payment strategies will need to enforce when someone pays a fee, and we refer to the events that can cause a user to pay as a trigger. Triggers can be divided into two categories, one in which the trigger occurs after the owner of a name does something, and the other in which some external event causes a trigger for a name. Any time a user wants to do something with a name, this can represent a trigger. The first example of a trigger is when a user wants to register a name for the first time. In Namecoin, this is one of the implemented triggers that causes a user to pay a fee. A user is also able to update the contents of a value, trade a name token to another user and post a transaction to renew a name token. All of these are potential triggers that could have associated fees attached. 
Conversely, there could be some sort of trigger that is not caused by the owner of a name. We refer to this trigger category as a challenge. A challenge could be initiated several ways. First, they could be periodic. It is not unreasonable to think that a user could be required to make some action (pay a fee) after a set number of blocks. Additionally, a challenge could be issued by another user of the system. If two users want the same name, there could be a mechanism in which the user who doesn't own the name is able to challenge the current owner. This type of trigger is necessary for overcoming certain issues associated with squatting. 
    An additional parameter is how much a user is expected to pay. The decision of how much a user is expected to pay immediately breaks into two categories: the first being the amount they are expected to pay is determined by the protocol built into the system, and the second being the amount they are expected to pay is determined by users of the system. 
We first consider the fees being determined by the protocol built into the system. This category again immediately breaks into two subcategories. The fee invoked by the system could either be constant, or it could depend on some other variable. A constant fee by the system is the current approach in Namecoin, and requires little additional analysis. Alternatively, if the fee varies, there are a variety of protocols the system could implement to determine the cost for a name. Historically in Namecoin, there was an additional fee levied by the system that varied based on time. A fee that varies on time could be used to deter users from buying names at specific times and incentivize users to buy names at other times. Additionally, the fee could vary based on properties of the name itself. It has been suggested that perhaps shorter names are more valuable and should be more expensive for a user to purchase. Using this strategy, one could develop a scheme where the cost to register a name is directly dependent on the name's length. More broadly, this could be applied to other aspects of a name. It could cost more based on whether or not it is a dictionary word, a concatenation of dictionary words, the frequency of the word's usage in English, whether or not the name is the same as a domain in the Alexa top million list, or any other criteria. Arguably, some of these pricing strategies are harder to implement than others because a miner will need to enforce the rules for a user trying to claim a name which means that all miners would need to agree about which criteria are true for a given name.
The other method for determining how much a user should pay was that the cost could be determined by the users of the system. This pricing scheme represents a form of auction for each name. The specifics for the auction can vary, depending on the design, and any form of technically feasible auction would generate a system in which users determine the price a name should cost. /hi{add more information about types of auctions?} Allowing users to determine the price of a name weakens certain properties of a name value store in a blockchain. Namecoin advertises that one of the advantages of .bit domains (as opposed to traditional domains managed by ICANN) is that they cannot be seized and allow for freedom of speech and expression. By allowing users of the system to determine how much an individual needs to pay for a name can make it possible for a user with lots of resources to prevent a less affluent user from being able to use a certain name. A possible solution to this issue is to have the system enforce a maximum on the fee determined by other users. 
    A final parameter is who a user pays. There are four options of who a user can pay a fee to. First, a user can pay a fee to a miner. This is the result of any fee that arises as a tip for a miner managing a user's name transactions. This has the effect that it incentivizes miners to include name transactions in their blocks. If the fees that users pay to miners start to get large (compared to the block reward), these fees can complicate the optimal strategies for miners. A second option is that a user can burn coins. Initially, burning coins can seem like a bad practice, but it is actually a clean way to distribute the payment amongst users of the system. Making the assumption that the value of a cryptocurrency market cap doesn't change, then if some of the coins are destroyed, the remain coins increase in value. /hi{not sure we need this next part} Cryptocurrency users have voiced concerns about burning too many coins. As long as the number of coins burned is a function of the number of coins remaining in the market, all of the coins can never be burned. What is lost is granularity as the smallest coin dust beings to be worth more and more. The granularity of a cryptocurrency like Namecoin is so small, however, that increasing the granularity by burning coins is hardly a problem. Almost all of the coins in the system would need to be burned for the granularity of the smallest coin (10 e-8 NMC) to be practically too large. A third option for the destination of a user's money for is into an escrow fund. This would cause a user to lock away funds that will be returned to them once they lose control over a name. This has a very similar effect to burning the money except the user is returned the coins if they ever lose control of a name. A fourth and final option for who a user should pay is another user of the system. This makes sense mostly in the context of auctions as a different user may already possess the desired name and is willing to sell it, but it can also be applied in other situations.



\section{Success of OneName}
    Analyzing the names on the blockchain reveals that the online identity service, OneName, holds a very large user base. After identifying and removing probable squatters, using the strategies listed in Methods, OneName has roughly 20,000 unique names/values, which dwarfs the 1000 or so unique name/values in the d/ namespace. This provides evidence that Namecoin can be more successfully used for applications other than a domain name look-up service. The idea behind OneName is that a user can have a name/value pair in the blockchain that associates said name with different online identities such as an email, GitHub, or Twitter. If it is verified that these accounts are owned by the same person who owns the name/value pair (generally by posting a message with each of their accounts with a specific string mentioning the OneName name in the blockchain), then others can trust that a single entity owns all these accounts. 

We think there are several reasons why OneName has become more popular than d/, the most significant of which being that OneName completely abstracts away the involvement of Namecoin. In order to make a OneName identity, a user only has to visit OneName's website to create an account. OneName takes the information given to it and puts it into a name/value pair and posts that into the Namecoin blockchain. The user doesn't need to know anything about Namecoin, have Namecoins, or even know that Namecoin is working behind the scenes in order to complete the process. One reason this model works for OneName is because name/value pairs have become quite cheap. Registering a name only costs 0.01 NMC for the token and 0.01 NMC to cover two transactions fees. It then only costs 0.005 NMC every 250 days or so to update the name/values to keep them fresh. Given the current exchange rate of Namecoin to dollars, this represents a cost of approximately one cent for OneName to post one of its user's information into the blockchain. Even with a user base as large as 20,000, OneName's expenses to cover everyone's fees total to only a few hundred dollars. OneName has made the assumption that picking up the tab on the fees is well worth sparing their users the effort of trying to use Namecoin, and it seems that this approach is successful.

This leads to our next point; it isn't the cost that prevents people from registering name/values in the Namecoin blockchain, it's the inconvenience. A user who has no Namecoins to begin with is faced with large hurdles in order to register a name. The first step is acquiring a Namecoin client. While not particularly difficult to install, the standard Namecoin client requires the user to become a Namecoin node which means they will have to download, verify, and store the entire blockchain. The next obstacle for a user is to acquire coins. This is more tricky than it appears because no exchange will sell cryptocurrencies like Namecoin or Bitcoin to users who use credit cards. This is impossible for exchanges because users can challenge the charges on their card, and the exchange can't easily provide proof that they sent the coins to an address the user controls. Assuming the user has Bitcoins, or is willing to buy Bitcoins (which still has to be done without a credit card-- it could be done in person or, more commonly, the user could use Coinbase and hook a Bitcoin wallet up to their bank account), then the user will need to convert these coins to Namecoin. Many exchanges will do this, but it isn't particularly pleasant. In our experience, after making an account, the exchange required us to wait for three days before we were allowed to convert our Bitcoins to Namecoins. At this point, the user is finally ready to start making the NAME transactions outlined in the registration protocol section. They must then either remember to update their names every 250 days, or use some software that will automatically take care of updates.

This leads to an interesting question: if using Namecoins is so inconvenient that it deters potential adopters, then why does the actual system require users to pay? Most of the miners are merge mining, and the majority of their Namecoins come from the block reward, so why require a transaction fee on NAME transactions? The reason these transactions need to have associated fees is to stop squatters. Squatting is already a major issue, but it would be much worse if claiming a name was free. As it is now, if a squatter wants to register a few thousand names (as many of them do),  it represents a reasonable investment from the squatter. If the squatter has to invest a few hundred dollars, then they must feel that they can potentially earn this money back from selling some of the domains they squatted. If it costs nothing to claim a name, then the investment from the squatter is nothing, and even if they only sell one of their millions of squatted domains, then they will profit. 

The next logical step is that, because it is free, OneName should suffer from a massive number of squatters. According to the data in the blockchain, however, this is simply not true. OneName actually has a much better user to squatter ratio with only a few thousand squatters on on their namespace (including OneName itself which has also benevolently squatted some of the names in its domain space to save usernames for well known individuals). This is a result of a few different factors. The first factor contributing to this is that in order to make the name/value pairs for free, an individual needs to go through OneName. This allows OneName to implement their own anti-squatting techniques to try to prevent a single user from claiming many usernames. Additionally, because a user goes through OneName, OneName actually owns the Namecoin address that holds the token with their data. If a squatter was to squat a valuable name, they would be unable to sell it to a buyer because OneName owns it. Even if a squatter isn't intimidated by the small fee and they try to squat through the Namecoin client, squatting OneName usernames is less valuable than squatting domains in d/. A certain name in the OneName namespace is not particularly valuable because a user doesn't really need a specific name. If John Smith is using OneName, jsmith would be a pretty ideal username, but he could just as easily use jsmith1 or jsmith912. With any of these usernames, when someone searches "John Smith" in OneName, his identity will come up. This is because OneName stores an individual's actual name in the value portion of the name/value pair, and this is how most people will search for them (unlike a domain name). The name associated with this value in the blockchain is mostly just aesthetic. Finally, a squatter would be hard pressed to find buyers in this namespace. For domain names, if a user sees that a name they want is taken, they can look at the value stored on the blockchain, see that it has a squatters contact information, and contact the squatter. As discussed previously, OneName users are insulated from the Namecoin network. They would be trying to make a new account on the OneName website which would simply tell them that a particular username is taken. Even if they are willing to pay for it, they wouldn't know who to contact without having to directly engage with Namecoin themselves. 

Another final interesting fact derived from OneName's success indicates how users value the distributed cryptographic security of their information compared to the simplicity of a service. Because OneName owns all of the name/value pairs, and the users typically never validate what OneName tells them with the blockchain, the users are completely trusting it as a central authority which leaves them vulnerable. Most users find this acceptable because even though they aren't checking the Namecoin blockchain, they know that someone could be checking the Namecoin blockchain. As long as there is the potential for someone to verify the information with the blockchain, OneName can't lie without being caught. Judging by the success of OneName, users find this pseudo security to be a close enough approximation to that provided by the Namecoin blockchain if it allows them to ignore having to deal with the Namecoin protocol. 

